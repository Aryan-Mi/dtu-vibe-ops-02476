# Hydra Defaults - Specifies which config files to load from config groups
defaults:
  - model: baseline_cnn      # loads configs/model/baseline_cnn.yaml
  - _self_                   # keeps overrides from this file

# Training Configuration
training:
  max_epochs: 20
  patience: 7                # Early stopping patience
  accelerator: "auto"        # auto, gpu, cpu, mps
  devices: "auto"

# Data Configuration
data:
  data_path: "data/raw/ham10000"
  num_classes: 7             # HAM10000 has 7 classes
  image_size: 224
  batch_size: 32
  num_workers: 4
  # Subsampling (optional) - set to null to use full dataset
  subsample_percentage: null  # e.g., 0.1 for 10% of data
  subsample_seed: 42

wandb:
  enabled: true
  project: "skin-lesion-classification"
  run_name: null  # auto-generated if not set
  log_model: true

# Profiling Configuration
profiling:
  enabled: false               # Set to true to enable profiling
  output_dir: "outputs/profiler_logs"  # Directory for profiler outputs
  # Advanced profiler settings (if needed)
  schedule_every_n_steps: 50   # Profile every N steps
  wait_steps: 5                # Warm-up steps before profiling starts (increased to reduce file handles)
  warmup_steps: 2              # Warm-up steps for each profiling cycle (increased)
  active_steps: 2              # Number of active profiling steps per cycle (reduced to save resources)
  repeat_cycles: 1             # Number of profiling cycles (reduced to 1 to avoid too many files)

# Paths
paths:
  output_dir: "outputs/models"
  log_dir: "logs"

# Reproducibility
seed: 42
